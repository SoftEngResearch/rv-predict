According to ISO C11, it is undefined behavior for a function to be declared with both internal and external linkage in the same translation unit. In this case, the function was first declared with external linkage, and then with internal linkage. In practice this is a compiler error and likely prevents your project from being built; however, since it is undefined behavior, it is not strictly required by the C standard that a diagnostic be emitted for this case, and therefore it is possible that some C compilers will accept such programs and emit some kind of undesirable code, such as treating the two declarations as different functions. The solution is to either declare one function with external linkage, and give the function with internal linkage another name, or else to combine the functions, but give the combined function either internal or external linkage, but not both.
