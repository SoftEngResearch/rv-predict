According to ISO C11, if both the true and false branches of a conditional expression are of pointer type, they must either be compatible pointer types, or else one must be a pointer to an object and the other must be a pointer to void. It is a constraint violation if this rule is broken. In practice, this can be a compiler error, however, some compilers will accept this code and coerce both arguments to some common type. The correct solution is to ensure that the types of the conditional expression are used correctly in order to construct a common type for the entire expression.
