<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<installation version="1.0">

    <!-- General Application Information -->
    <info>
        <appname>RV-Predict</appname>
        <appversion>@{rvpredict.version}</appversion>
        <uninstaller path="${INSTALL_PATH}/uninstall" write="no"/>
        <run-privileged condition="izpack.windowsinstall|izpack.macinstall" />
    </info>

    <variables>
        <!-- Z3 Dependency Info (either of z3 or z3.exe on PATH) -->
        <variable name="DependencyPanel.z3.site" value="https://z3.codeplex.com/releases"/>
        <variable name="DependencyPanel.z3.exe.1" value="z3"/>
        <variable name="DependencyPanel.z3.exe.2" value="z3.exe"/>
        <variable name="DependencyPanel.z3.test.1.command" value="z3 -version"/>
        <variable name="DependencyPanel.z3.test.1.output_contains" value="Z3 version"/>
    </variables>

    <!-- GUI-Specific Preferences -->
    <guiprefs width="740" height="600" resizable="yes">
        <modifier key="useHeadingPanel" value="yes"/>
        <modifier key="useHeadingForSummary" value="yes"/>
        <modifier key="headingImageOnLeft" value="yes"/>
        <modifier key="headingLineCount" value="2"/>
        <modifier key="headingFontSize" value="1.5"/>
        <modifier key="headingBackgroundColor" value="0x00ffffff"/>
        <modifier key="headingPanelCounter" value="text"/>
        <modifier key="headingPanelCounterPos" value="inHeading"/>
    </guiprefs>

    <locale>
        <langpack iso3="eng"/>
    </locale>

    <!-- Installer Resources -->
    <resources>
        <res id="InfoPanel.info" src="@{rvpredict.base}/README"/>
        <res id="LicencePanel.licence" src="@{rvpredict.base}/LICENSE"/>
        <res id="DependencyPanel.z3.html" src="@{rvpredict.temp}/res/rvdependencies/z3.html"/>
    </resources>

    <!-- Installer Panel Sequence -->
    <panels>
        <panel classname="LicencePanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="DependencyPanel" id="z3" jar="@{rvpredict.temp}/res/panels/DependencyPanel.jar"/>
        <panel classname="PacksPanel"/>
        <panel classname="InstallPanel"/>
        <panel classname="InfoPanel"/>
        <!--<panel classname="RunPanel"/>-->
    </panels>

    <!-- Installable Package Tasks -->
    <packs>
        <pack name="RV-Predict" required="yes" installGroups="New Application" >
            <description>Required RV-Predict libraries and executables.</description>
            <file src="@{rvpredict.base}/README" targetdir="$INSTALL_PATH"/>
            <file src="@{rvpredict.base}/LICENSE" targetdir="$INSTALL_PATH"/>
            <fileset dir="@{rvpredict.bin}" casesensitive="yes" targetdir="$INSTALL_PATH/bin">
                <exclude name="log/*"/>
            </fileset>
            <file src="@{rvpredict.lib}" targetdir="$INSTALL_PATH"/>
            <executable targetfile="$INSTALL_PATH/bin/rv-predict" keep="true" stage="never" />
            <executable targetfile="$INSTALL_PATH/bin/rv-predict.bat" keep="true" stage="never" />
        </pack>
        <pack name="Examples" required="no" installGroups="New Application" >
            <description>Example Java programs illustrating RV-Predict's features.</description>
            <fileset dir="@{rvpredict.benchmarks}" casesensitive="yes" targetdir="$INSTALL_PATH/benchmarks">
                <exclude name="bin/*"/>
                <exclude name="log/*"/>
            </fileset>
        </pack>
    </packs>

    <!-- The native libraries to add. This is required for creating shortcuts on Windows -->
    <native type="izpack" name="ShellLink.dll"/>

</installation>
