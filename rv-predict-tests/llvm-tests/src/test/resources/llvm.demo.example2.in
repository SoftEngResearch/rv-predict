<gid:0;tid:1;id:140402730187327;addr:0;value:0;type:INVOKE_METHOD;fn:__libc_start_main;file:/build/buildd/glibc-2.21/csu/libc-start.c;line:289>
<gid:1;tid:1;id:4867928;addr:2;value:0;type:START;fn:main;file:demo/example2.c;line:18>
<gid:2;tid:2;id:4319449;addr:0;value:0;type:INVOKE_METHOD;fn:__tsan_thread_start_func;file:/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc;line:849>
<gid:3;tid:1;id:4867949;addr:3;value:0;type:START;fn:main;file:demo/example2.c;line:19>
<gid:4;tid:2;id:4867774;addr:21681000;value:0;type:WRITE_LOCK;fn:MyThread;file:demo/example2.c;line:9>
<gid:5;tid:3;id:4319449;addr:0;value:0;type:INVOKE_METHOD;fn:__tsan_thread_start_func;file:/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc;line:849>
<gid:6;tid:2;id:4867785;addr:21680992;value:0;type:READ;fn:MyThread;file:demo/example2.c;line:10>
<gid:7;tid:2;id:4867806;addr:21680992;value:1;type:WRITE;fn:MyThread;file:demo/example2.c;line:10>
<gid:8;tid:2;id:4867821;addr:21681000;value:0;type:WRITE_UNLOCK;fn:MyThread;file:demo/example2.c;line:11>
<gid:9;tid:2;id:4867832;addr:21680992;value:1;type:READ;fn:MyThread;file:demo/example2.c;line:12>
<gid:10;tid:1;id:4867959;addr:21681000;value:0;type:WRITE_LOCK;fn:main;file:demo/example2.c;line:20>
<gid:11;tid:2;id:4319449;addr:0;value:0;type:FINISH_METHOD;fn:__tsan_thread_start_func;file:/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc;line:849>
<gid:12;tid:1;id:4867970;addr:21680992;value:1;type:READ;fn:main;file:demo/example2.c;line:21>
<gid:13;tid:1;id:4867991;addr:21680992;value:2;type:WRITE;fn:main;file:demo/example2.c;line:21>
==================
WARNING: ThreadSanitizer: data race (pid=25165)
  Write of size 4 at 0x0000014ad360 by main thread (mutexes: write M0):
    #0 main demo/example2.c:21:4 (example2+0x0000004a4796)

  Previous read of size 4 at 0x0000014ad360 by thread T1:
    #0 MyThread demo/example2.c:12:20 (example2+0x0000004a46f7)

  Location is global 'x' of size 4 at 0x0000014ad360 (example2+0x0000014ad360)

  Mutex M0 (0x0000014ad368) created at:
    #0 pthread_mutex_lock /projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:3103 (example2+0x00000042d9a3)
    #1 MyThread demo/example2.c:9:3 (example2+0x0000004a46be)

  Thread T1 (tid=25168, finished) created by main thread at:
    #0 pthread_create /projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:859 (example2+0x000000446ec3)
    #1 main demo/example2.c:18:3 (example2+0x0000004a4758)

SUMMARY: ThreadSanitizer: data race demo/example2.c:21:4 in main
==================
<gid:14;tid:1;id:4868006;addr:21681000;value:0;type:WRITE_UNLOCK;fn:main;file:demo/example2.c;line:22>
<gid:15;tid:1;id:4868019;addr:21680992;value:0;type:WRITE;fn:main;file:demo/example2.c;line:23>
<gid:16;tid:3;id:4867774;addr:21681000;value:0;type:WRITE_LOCK;fn:MyThread;file:demo/example2.c;line:9>
<gid:17;tid:1;id:4868037;addr:140733155393656;value:140402695862016;type:READ;fn:main;file:demo/example2.c;line:24>
<gid:18;tid:3;id:4867785;addr:21680992;value:0;type:READ;fn:MyThread;file:demo/example2.c;line:10>
<gid:19;tid:1;id:4868048;addr:2;value:0;type:JOIN;fn:main;file:demo/example2.c;line:24>
<gid:20;tid:1;id:4868057;addr:140733155393648;value:140402687469312;type:READ;fn:main;file:demo/example2.c;line:25>
<gid:21;tid:3;id:4867806;addr:21680992;value:1;type:WRITE;fn:MyThread;file:demo/example2.c;line:10>
<gid:22;tid:3;id:4867821;addr:21681000;value:0;type:WRITE_UNLOCK;fn:MyThread;file:demo/example2.c;line:11>
<gid:23;tid:3;id:4867832;addr:21680992;value:1;type:READ;fn:MyThread;file:demo/example2.c;line:12>
<gid:24;tid:3;id:4319449;addr:0;value:0;type:FINISH_METHOD;fn:__tsan_thread_start_func;file:/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc;line:849>
<gid:25;tid:1;id:4868067;addr:3;value:0;type:JOIN;fn:main;file:demo/example2.c;line:25>
<gid:26;tid:1;id:140402730187327;addr:0;value:0;type:FINISH_METHOD;fn:__libc_start_main;file:/build/buildd/glibc-2.21/csu/libc-start.c;line:289>
ThreadSanitizer: reported 1 warnings
11