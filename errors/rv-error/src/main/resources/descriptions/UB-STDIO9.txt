According to ISO C11, it is undefined behavior to call fsetpos with a pointer to an fpos_t object which was not obtained by a previous call to fgetpos. In practice this can lead to corruption of the file stream which can in turn lead to incorrect data in the file or incorrect data read from the file. The correct solution in order to seek to an arbitrary point in a data stream is to open the stream as a binary stream and call fseek.
