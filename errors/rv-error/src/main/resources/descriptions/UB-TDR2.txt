According to ISO C11, if a variable is declared and used and not defined, it is undefined behavior. Generally this is a linker error and will prevent the program from being compiled. However, in some cases dead code elimination can eliminate the use of the variable from the object file, which allows compilation to succeed. In this case the program is still undefined, and may in fact fail to compile on some platforms. The solution is to provide a definition of all variables that are used in the program, regardless of whether they are used in functions that are never called.
