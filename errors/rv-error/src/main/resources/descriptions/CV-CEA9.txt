According to ISO C11, it violates a constraint to compute the difference of two pointers not to complete object types. In practice this is usually a compiler error, however, some compilers allow an exception to this rule for the case when the pointers are void pointers. The solution is to either complete the type, or to first cast the pointers to compatible complete object types prior to the pointer arithmetic expression.
