According to ISO C11, it is unspecified whether a call to atexit which occurs after exit has been called will succeed. This can occur because atexit is called directly or indirectly from a termination handler registered by a previous call to atexit. It will occur whether exit is called explicitly, or implicitly by a return from the main function. In practice, because this is unspecified behavior, such a call may succeed, or it may fail, and the compiler provides no guarantees about which behavior will occur. However, as unspecified behavior, the program is well defined, and it is guaranteed that one of these two outcomes will occur and the program will behave in accordance with whichever behavior results.
