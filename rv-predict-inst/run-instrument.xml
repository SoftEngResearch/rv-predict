<?xml version="1.0" encoding="UTF-8"?>
<project name="run-instrument" default="run-once">
    <taskdef resource="net/sf/antcontrib/antlib.xml">
        <classpath>
            <pathelement location="lib/ant-contrib.jar"/>
        </classpath>
    </taskdef>
	<property name="instrument.main.class" value="rvpredict.instrumentation.Main"/>
	
	<property name="app.main.class" value="boundedbuffer.BoundedBuffer"/>
	<!--
	demo.Example
	demo.Authenticate
	cp.Test2
	elevator.Elevator
	loop.TestLoop
	driver.FTPMainDriver
	ReflectApp
	shop.Shop
	race.Racey
	pingpong.PingPong
	microbench.BenchMain
	mergesort.MergeSort
	manager.Manager
	loader.Loader
	linkedlist.LLinkedList
	gui.Main
	fse.MyExample
	filewriter.FFileWriter
	emp.Example
	deadlockexception.DeadLockException
	deadlock.DeadLock
	critical.Critical
	buggyprogram.BuggyProgram
	bufwriter.BufWriter
	bubblesort.BubbleSort
	boundedbuffer.BoundedBuffer
	stringbuffer.StringBufferTest
	emp.Simple
	reentrantlock.Main
	causal.Main
	causal.Tricky1
	causal.Tricky2
	causal.Tricky3
	hard.Test
	tsp.Tsp
	driver.WeblechSpider
	sor.Sor
	net.sf.cache4j.test.Cache4jTester
	benchmarks.dstest.LinkedListTest
	benchmarks.dstest.ArrayListTest
	benchmarks.dstest.MTTreeSetTest
	benchmarks.dstest.HashSetTest 
	benchmarks.dstest.MTArrayListTest
	benchmarks.dstest.MTHashtableTest
	benchmarks.dstest.MTLinkedHashSetTest
	benchmarks.dstest.MTVectorTest 
	stringbuffer.StringBufferTest
	allocationvector.AllocationVector
	HedcDriver
	derby2861.Derby2861
	driver.JigsawDriver
	driver.TOMCATMainDriver
	driver.OpenJMSDriver
	benchmarks.JGFRayTracerBenchSizeA
	benchmarks.JGFMolDynBenchSizeA
	benchmarks.JGFMonteCarloBenchSizeA
	
	-->
	
	<property name="rv-predict-inst.home" location="${user.home}/git/rv-predict-plus/rv-predict-inst"/>
	<property name="rv-predict-demo.home" location="${user.home}/git/rv-predict-plus/rv-predict-demo"/>
	<property name="rv-predict-test.home" location="${user.home}/workspace/test"/>
	
	<property name="rv-predict-engine.home" location="${user.home}/git/rv-predict-plus/rv-predict-engine"/>
	
   <target name="run-once">   
   	<stopwatch name="timer" action="start"/>
    	    	<java classname="${instrument.main.class}" fork="true" maxmemory="1000m">
    	    	 	<arg value="${app.main.class}"/>
    	    		<classpath>
    	    		        	    		       	    		        		
    	    		    		   	    		    
    	    		    <pathelement location="${rv-predict-demo.home}/bin"/>    		   	
    	    		    <pathelement location="${rv-predict-test.home}/bin"/>    		   		    		        	               	
    	    				    	    		    	    		    	    		    	    		    	    		    	    		    	    		    			
	    	    		    	    			    	    		    	
    	               	<pathelement location="${rv-predict-inst.home}/bin"/>
    	               	<pathelement location="${rv-predict-engine.home}/bin"/>
    	               	
    	    			<pathelement location="${rv-predict-inst.home}/lib/external/soot-jeff.jar"/>
    	               	<pathelement location="${rv-predict-inst.home}/lib/external/jasminclasses-2.5.0.jar"/>
		            	<pathelement location="${rv-predict-inst.home}/lib/external/polyglot.jar"/>
		            	<pathelement location="${rv-predict-inst.home}/lib/external/java_cup.jar"/>
		            	<pathelement location="${rv-predict-inst.home}/lib/external/baksmali-1.3.2.jar"/>
    	               	<pathelement location="${rv-predict-inst.home}/lib/external/h2-1.3.171.jar"/>


    	    			            	<!--
    	    		    <pathelement location="${rv-predict.home}/../dacapo-9.12/libs/jar/avrora-cvs-20091224.jar"/>    		   	

    	    		        		<pathelement location="${rv-predict.home}/../booster/sootOutput"/>    		   	
    	    		       	    		        		
    	    		       	    		        		
    	    		    <pathelement location="${rv-predict.home}/../ftpserver/out"/>    
    	    		        	    			            		<pathelement location="${rv-predict.home}/../dacapo-9.12/out"/>
    	    			            		
    	    			            	    	               	<pathelement location="${rv-predict.home}/../weblech/bin"/>
    	    			<pathelement location="${rv-predict.home}/../log4j/bin"/>
    	    			
    	    			    	    			<pathelement location="${rv-predict.home}/../derby-10.3.2.1/build"/>
    	    			    	               	
    	    			<pathelement location="${rv-predict.home}/../derby-10.3.2.1/lib/xalan.jar"/>
    	    			<pathelement location="${rv-predict.home}/../derby-10.3.2.1/lib/xercesImpl-2.7.1.jar"/>
    	    			<pathelement location="${rv-predict.home}/../derby-10.3.2.1/lib/serializer-2.7.0.jar"/>
    	    				
    	    				    	               	<pathelement location="${rv-predict.home}/../hedc/bin"/>
    	               	<pathelement location="${rv-predict.home}/../hedc/lib/jms.jar"/>
    	               	<pathelement location="${rv-predict.home}/../hedc/lib/mail.jar"/>
    	               	<pathelement location="${rv-predict.home}/../hedc/lib/servlet.jar"/>
    	               	<pathelement location="${rv-predict.home}/../oswego/bin"/>
    	               	    	
    	               	    	
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/bin"/>
    	    				
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/lib/jakarta-oro-2.0.8.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/lib/sax.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/lib/servlet.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/lib/Tidy.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/classes/xerces.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/lib/xp.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../jigsaw/lib/tools.jar"/>    	               	    	

	    	    	<pathelement location="${rv-predict.home}/../tomcat-6.0.x/bin"/>
	    	    	<pathelement location="${rv-predict.home}/../tomcat-6.0.x/lib/httpcore-4.0-beta3.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../tomcat-6.0.x/lib/httpclient-4.0.1.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../tomcat-6.0.x/lib/httpmime-4.0.1.jar"/>

	    	    	<pathelement location="${rv-predict.home}/../openjms/bin"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/jms-1.1.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/commons-codec-1.3.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/servlet.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/xml-api-1.0.b2.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/xerces-2.4.0.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/castor-0.9.5.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/sice-jndikit-1.2.jar"/>
	    	    	<pathelement location="${rv-predict.home}/../openjms/lib/oro-2.0.8.jar"/>

    
        	    		    <pathelement location="${rv-predict.home}/../jigsaw/out"/>    		   	
    	    							-->
    	    			            		            	     
    	    			            </classpath>
    	        </java>  
	<stopwatch name="timer" action="total"/>
	<echo message="run: ${timer}"/>
   </target>
	
</project>

