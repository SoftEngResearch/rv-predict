<html>
  <head>
    <title>RVPredict</title>
  </head>

<body>
<div style="width: 1024px; margin-left: auto; margin-right: auto;">

	<div style="background-color:#F6E3CE; padding: 5px">	
	<h1>RVPredict: Maximal and Sound Predictive Runtime Race Detection</h1>

	</div>
<p>
RVPredict is a race detector for Java programs that can predict data races
based on normal execution traces. A salient feature of RVPredict is that
it is both sound and maximal: all reported races are real (i.e.
it never reports any false alarms), and it detects all the possible races
that can be detected by any sound technique based on the same trace.
RVPredict is powered by SMT solvers: it encodes program data/control flow
and thread scheduling as constraints,
and uses Z3/Yices to detect races.
</p>
<p>
For extra documentation, see the <a href="README.txt">README</a>.
</p>

<hr>

<h2>Getting Started</h2>
<p>
    We provide some simple instructions for getting started running the basic
    tests and (if desired) your own test programs using RVPredict.
</p>
<h3>Preparation:</h3>

<ul>
<li>Install Java 1.7 or later</li>
	<li>
	<p>Install Z3 or Yices. Follow the instructions at
<pre>
Z3: <code>http://z3.codeplex.com/SourceControl/latest#README</code>
</pre>
<pre>
Yices: <code>http://yices.csl.sri.com/download-yices2.shtml</code>
</pre>
Remember to add the executables to your PATH.</p>
	</li>
<li>
	<p>Install RVPredict. <a href="http://fsl.cs.illinois.edu/rv-predict/rv-predict-install.jar">Download RVPredict installer</a> and run:
<pre>
<code>java -jar rv-predict-install.jar</code>
</pre>
</p>
	</li>
</ul>
<h3>Basic compile and run:</h3>

<ol>
	<li>
	<p>Compile RVPredict.</p>
<pre>
ant
</pre>
	</li>
	<li>

<p>Run RVPredict
<pre>
bin/rv-predict [rv_options] [--java] [java_options] class [args...]
</pre>
or
<pre>
bin/rv-predict [rv_options] [--java] [java_options] -jar jarfile [args...]
</pre>
<p>where [rv_options] are rv-predic specific options 
(run rv-predict --help -v for more information), 
  --java can be used as a separator for the java command line.
The remainding arguments are what one would pass to the java executable to 
execute the proram.
</p>
The --java option is only required in the less frequent case when some of 
the java or program options used have the same name as some of the 
rv-predict options (including --java).
	<p>Run a simple example:</p>
<pre>
bin/rv-predict -cp tests/bin demo.Example
</pre>
<p>Using <code>--java</code> to specify that the first -v argument should be sent to rv-predict,
while the second one to the java command:</p>
<pre>bin/rv-predict --verbose --java -verbose -cp tests/bin demo.Example  
</pre>
<p>
Using rv-predict with a jar:</p>
<pre>bin/rv-predict -jar benchmarks/ftpserver/ftpserver.jar
</pre>


<h4>Useful options:</h4>
	<p>
	RVPredict has a few options on race detection. To see these options, execute:
<code>bin/rv-predict --help -v</code>
	</p>
<p>
<code>--agent</code> -- run only the logging stage [false]<br>
<code>--allconsistent</code> -- require all read-write consistency [false]<br>
<code>--allrace</code> -- check all races [false]<br>
<code>--detectSharingOnly</code> --run agent only to detect shared variables. [false]<br>
<code>--dir</code> -- output directory [log]<br>
<code>-h, --help</code> -- print help info [false]<br>
<code>--java</code> -- optional separator for java arguments [false]<br>
<code>--maxlen</code> -- window size [1000]<br>
<code>--nobranch</code> -- disable control flow (MCM).<br>
<code>--noschedule</code> -- not report schedule [true]<br>
<code>--novolatile</code> -- exclude volatile variables [false]<br>
<code>--optlog</code> -- optimize logging size [false]<br>
<code>--optrace</code> -- optimize race detection [true]<br>
<code>--predict</code> -- run only the prediction stage [false]<br>
<code>--pso</code> -- PSO memory model [false]<br>
<code>--smtlib1</code> -- use smtlib v1 format (use Yices) [false]<br>
<code>--solver_memory</code> -- solver memory in MB [8000]<br>
<code>--solver_timeout</code> -- solver timeout in seconds [60]<br>
<code>--table</code> --name of the table (Default: jar main class) [null]<br>
<code>-timeout</code> -- rvpredict timeout in seconds [3600]<br>
<code>-v, --verbose</code> -- generate more verbose output [false] <br>
</p>
	</li>
</ol>

<h3>Benchmarks:</h3>
<p>Our simpler tests are located in the tests directory.
The larger benchmark tests are located in the benchmarks directory.
</p>

<p>A few examples:</p>
<pre>
bin/rv-predict -cp benchmarks/bin account.Account
bin/rv-predict -cp benchmarks/bin bubblesort.BubbleSort
bin/rv-predict -cp benchmarks/bin benchmarks.JGFRayTracerBenchSizeA
</pre>
To run all benchmarks, execute: <code>ant test</code>

   </body>
</html>

